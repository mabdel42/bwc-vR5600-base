---
    chain:
        -
            name: "start_cfg_session"
            ref: "vR-5600.start-cfg-session"
            parameters:
                deviceIP: "{{deviceIP}}"
                login: "{{login}}"
                password: "{{password}}"
            publish:
                cfgId: "{{ start_cfg_session.stdout }}"
            on-success: "cfg-static-route"
            on-failure: "c5"
        -
            name: "cfg-static-route"
            ref: "vR-5600.cfg-static-route"
            parameters:
                deviceIP: "{{deviceIP}}"
                login: "{{login}}"
                password: "{{password}}"
                cmd_path: "{{cfgId}}"
                subnet: "{{subnet}}"
                nextHop: "{{nextHop}}"
                #cmd: "echo \"c2: parent exec is {{action_context.parent.execution_id}}.\""
            on-success: "commit"
            on-failure: "c5"
        -
            name: "commit"
            ref: "vR-5600.commit"
            parameters:
                deviceIP: "{{deviceIP}}"
                login: "{{login}}"
                password: "{{password}}"
                cmd_path: "{{cfgId}}"
            on-success: "save"
            on-failure: "c5"
        -
            name: "save"
            ref: "vR-5600.save"
            parameters:
                deviceIP: "{{deviceIP}}"
                login: "{{login}}"
                password: "{{password}}"
                cmd_path: "{{cfgId}}"
            on-success: "exit_cfg_session"
            on-failure: "c5"
        -
            name: "exit_cfg_session"
            ref: "vR-5600.exit-cfg-session"
            parameters:
                deviceIP: "{{deviceIP}}"
                login: "{{login}}"
                password: "{{password}}"
                cmd_path: "{{cfgId}}"
        -
            name: "c5"
            ref: "core.local"
            parameters:
                cmd: "echo fail "
    default: "start_cfg_session"